(function (a) { var b = { pos: [-260, -260] }, c = 3, d = document, i = d.documentElement, h = d.body, f, e; function g() { if (this === b.elem) { b.pos = [-260, -260]; b.elem = false; c = 3 } } a.event.special.mwheelIntent = { setup: function () { var b = a(this).bind("mousewheel", a.event.special.mwheelIntent.handler); this !== d && this !== i && this !== h && b.bind("mouseleave", g); b = null; return true }, teardown: function () { a(this).unbind("mousewheel", a.event.special.mwheelIntent.handler).unbind("mouseleave", g); return true }, handler: function (d) { var g = [d.clientX, d.clientY]; if (this === b.elem || Math.abs(b.pos[0] - g[0]) > c || Math.abs(b.pos[1] - g[1]) > c) { b.elem = this; b.pos = g; c = 250; clearTimeout(e); e = setTimeout(function () { c = 10 }, 200); clearTimeout(f); f = setTimeout(function () { c = 3 }, 1500); d = a.extend({}, d, { type: "mwheelIntent" }); return a.event.handle.apply(this, arguments) } } }; a.fn.extend({ mwheelIntent: function (a) { return a ? this.bind("mwheelIntent", a) : this.trigger("mwheelIntent") }, unmwheelIntent: function (a) { return this.unbind("mwheelIntent", a) } }); a(function () { h = d.body; a(d).bind("mwheelIntent.mwheelIntentDefault", a.noop) }) })(jQuery)